# Wishes ğŸŒ 

[![Python 3.13](https://img.shields.io/badge/Python-3.13-3776AB?logo=python&logoColor=white)](https://www.python.org)
[![JSON](https://img.shields.io/badge/Data-JSON-000000?logo=json&logoColor=white)]()
[![Git](https://img.shields.io/badge/Git-F05032?logo=git&logoColor=white)](https://git-scm.com)
[![GitHub](https://img.shields.io/badge/GitHub-181717?logo=github)](https://github.com)
[![VSCode](https://img.shields.io/badge/IDE-VSCode-007ACC?logo=visual-studio-code)](https://code.visualstudio.com/)
[![nuitka](https://img.shields.io/badge/Compiler-nuitka-008000?logo=nuitka&logoColor=white)](https://nuitka.net)


## ä¸­æ–‡

`Wishes` æ˜¯ä¸€ä¸ª**é«˜åº¦è‡ªå®šä¹‰ã€é«˜åº¦é€‚é…æ€§**çš„æ¨¡æ‹Ÿæ¸¸æˆæŠ½å¡å·¥å…·ã€‚<br>
æœŸæœ›å®ç°çš„ä¸»è¦åŠŸèƒ½ï¼š
- æ¨¡æ‹ŸæŠ½å¡ç®—æ³•
- å®ç°å¸¦äººç‰©/ç‰©å“ç«‹ç»˜å›¾ç‰‡å’ŒåŠ¨ç”»æ•ˆæœçš„æŠ½å¡
- æŠ½å¡è®°å½•å’ŒæŠ½å¡ç»“æœåˆ†æ
- è‡ªå®šä¹‰å¡æ± å’Œç®¡ç†å¡æ± /å¡ç»„/å¡ç‰‡çš„åŠŸèƒ½

---

#### é‡è¦æé†’
ä»¥ [Python](https://www.python.org/)`3.13` ä½œä¸ºä¸»è¦å¼€å‘è¯­è¨€ã€‚<br>

é¡¹ç›®ç›®å‰æ­£å¤„äº**åº•å±‚å¼€å‘é˜¶æ®µ**ï¼Œä»…å¯åœ¨å‘½ä»¤è¡Œä¸­æµ‹è¯•å¹¶è¿è¡Œï¼Œåç»­å°†å¼•å…¥ [Qt6](https://www.qt.io/) åŠä½¿ç”¨ `Qt Quick` å¼€å‘çš„å›¾å½¢ç•Œé¢ã€‚

---

## å¼€å§‹ä½¿ç”¨
ä¸‹è½½æœ€æ–°å‘è¡Œç‰ˆ `Wishes v3.0.1` å‹ç¼©åŒ…ï¼Œè§£å‹åè¿è¡Œ `Wishes.exe` å³å¯ã€‚[GitHub Release](https://github.com/GeZhe-GAZE/Wishes/releases) <br>

æˆ–è€…ï¼Œä» GitHub ä»“åº“å…‹éš†é¡¹ç›®ï¼Œè¿è¡Œ `main_command_line.py` å³å¯ã€‚[GitHub Repository](https://github.com/GeZhe-GAZE/Wishes)

```bash
python main_command_line.py
```

## è‡ªå®šä¹‰æ‹“å±•
`Wishes v3` é™¤æ¨¡æ‹ŸæŠ½å¡è¿‡ç¨‹å¤–ï¼Œæœ€é‡è¦çš„åŠŸèƒ½ä¾¿æ˜¯**è‡ªå®šä¹‰æ‹“å±•**ã€‚<br>

ä»…é€šè¿‡ `json` æ–‡ä»¶çš„ç›¸å…³é…ç½®ï¼Œå³å¯å®ç°è‡ªå®šä¹‰**å¡ç‰‡ã€å¡ç»„ã€æŠ½å¡é€»è¾‘ã€å¡æ± **ç­‰å†…å®¹ã€‚<br>

ä»¥ä¸‹ä¸ºè¯¦ç»†çš„é…ç½®æµç¨‹:

### 1. å¡ç‰‡é…ç½®
å¡ç‰‡é…ç½®æ–‡ä»¶ä¸º `json` æ ¼å¼ï¼Œä½äº `Data/Cards` ç›®å½•ä¸­ï¼Œæ–‡ä»¶åä»»æ„ï¼Œä½†å¿…é¡»ä»¥ `.json` ç»“å°¾ã€‚<br>
è·¯å¾„ç»“æ„ä¸ºï¼š**Data/Cards/<æ¸¸æˆ>/<ç±»å‹>/<æ˜Ÿçº§>/*.json** <br>

æ¯ä¸ª `json` å¡ç‰‡é…ç½®æ–‡ä»¶ä»£è¡¨ä¸€å¼ å¡ç‰‡ï¼Œæ¯ä¸ªæ–‡ä»¶éœ€åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- **content**ï¼šå¡ç‰‡å†…å®¹åç§°
- **game**ï¼šå¡ç‰‡æ‰€å±æ¸¸æˆ
- **type**ï¼šå¡ç‰‡ç±»å‹ï¼Œå¦‚ `è§’è‰²`ã€`æ­¦å™¨` ç­‰
- **star**ï¼šå¡ç‰‡æ˜Ÿçº§ï¼Œå¿…é¡»ä¸ºæ•´æ•°
- **attribute**: å¡ç‰‡å±æ€§ï¼Œå¦‚ `å†°`ã€`ç«`ã€`é£` ç­‰
- **title**: å¡ç‰‡ç§°å·ï¼Œç”¨äºæŠ½å¡ç•Œé¢æ˜¾ç¤º **(ç°ç‰ˆæœ¬æœªå¯ç”¨)**
- **profession**: å¡ç‰‡èŒä¸šç±»å‹ï¼Œå¦‚ `æ™ºè¯†`ã€`å•æ‰‹å‰‘`ã€`å‡»ç ´` ç­‰
- **image_path**: å¡ç‰‡ç«‹ç»˜å›¾ç‰‡è·¯å¾„ï¼Œç›¸å¯¹äº `Wishes` ç›®å½•

æ·»åŠ å¡ç‰‡åï¼Œè¿˜éœ€åœ¨ `Data/Config/CardsDirConfig.json` ä¸­æ³¨å†Œç›®å½•ç»“æ„ã€‚

#### å¡ç‰‡é…ç½®ç¤ºä¾‹
```json
{
    "content": "èƒ¡æ¡ƒ",
    "game": "Genshin",
    "star": 5,
    "type": "Character",
    "attribute": "ç«",
    "title": "",
    "profession": "é•¿æŸ„æ­¦å™¨",
    "image_path": "Data/Images/Genshin/Character/Star5/èƒ¡æ¡ƒ.png"
}
```

#### ç›®å½•ç»“æ„é…ç½®ç¤ºä¾‹
```json
{
    "Genshin": {
        "Character": [5, 4],
        "Weapon": [5, 4, 3]
    },
    "StarRail": {
        "Character": [5, 4],
        "Weapon": [5, 4, 3]
    },
    "ZZZ": {
        "Character": [5, 4],
        "Weapon": [5, 4, 3],
        "Bangboo": [5, 4]
    }
}
```

### 2. å¡ç»„é…ç½®
`Wishes` ä¸­çš„å¡ç»„åˆ†ä¸º**å¸¸é©»å¡ç»„**å’Œ**æ­£å¼å¡ç»„**ï¼Œå¸¸é©»å¡ç»„å¯è§†ä½œæ­£å¼å¡ç»„çš„ä¸€éƒ¨åˆ†ã€‚å› ä¸ºé€šå¸¸æƒ…å†µä¸‹å¸¸é©»å¡ç»„ä¼šåŒæ—¶è¢«å¤šä¸ªæ­£å¼å¡ç»„ä½¿ç”¨ï¼Œå› æ­¤å¸¸é©»å¡ç»„è¢«ä½œä¸º**ç‹¬ç«‹å¡ç»„**è¿›è¡Œé…ç½®ï¼Œè€Œæ­£å¼å¡ç»„ä»…éœ€**å¼•ç”¨æ‰€éœ€çš„å¸¸é©»å¡ç»„**ï¼Œå†åŒ…å«ä¸€äº›**ç‰¹æ®Šçš„ã€é¢å¤–çš„å¡ç‰‡**å³å¯ä½¿ç”¨ã€‚<br>

#### 2.1 å¸¸é©»å¡ç»„é…ç½®
æ‰€æœ‰çš„å¸¸é©»å¡ç»„éƒ½åœ¨ `Data/StandardGroups` ç›®å½•ä¸­é…ç½®ï¼Œæ–‡ä»¶åä»»æ„ï¼Œä½†å¿…é¡»ä»¥ `.json` ç»“å°¾ã€‚<br>

æ¯ä¸ª `json` å¸¸é©»å¡ç»„é…ç½®æ–‡ä»¶ä»£è¡¨ä¸€ä¸ªå¸¸é©»å¡ç»„ï¼Œæ¯ä¸ªæ–‡ä»¶éœ€åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- **name**ï¼šå¸¸é©»å¡ç»„åç§°ï¼Œä¸”ä¸º**å”¯ä¸€æ ‡è¯†ç¬¦**
- **ç±»å‹ -> æ˜Ÿçº§ -> å¡ç‰‡ç»„**ï¼Œè¡¨ç¤ºè¯¥å¸¸é©»å¡ç»„ä¸­è¯¥ç±»å‹ä¸‹ï¼ŒåŒ…å«çš„æ˜Ÿçº§ï¼Œä»¥åŠè¯¥æ˜Ÿçº§ä¸‹åŒ…å«çš„å¡ç‰‡ï¼Œæ¯ä¸€ä¸ªå¡ç‰‡å¯¹è±¡éƒ½éœ€åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
  - **game**ï¼šå¡ç‰‡æ‰€å±æ¸¸æˆ
  - **type**ï¼šå¡ç‰‡ç±»å‹
  - **star**ï¼šå¡ç‰‡æ˜Ÿçº§
  - **content**ï¼šå¡ç‰‡å†…å®¹åç§°

> **ç±»å‹ -> æ˜Ÿçº§ -> å¡ç‰‡ç»„**çš„æ•°é‡ä¸é™ï¼Œä½†éœ€ä¿è¯åŒç±»å‹ä¸‹ã€åŒæ˜Ÿçº§ä¸‹ï¼Œ**å¡ç‰‡å†…å®¹åç§°**ä¸é‡å¤ï¼Œå¦åˆ™å¤šä½™çš„å¡ç‰‡å°†è¢«è¦†ç›–ã€‚

#### å¸¸é©»å¡ç»„é…ç½®ç¤ºä¾‹
```json
{
    "name": "å´©åï¼šæ˜Ÿç©¹é“é“-è§’è‰²-å¸¸é©»-å•æ ‡ç­¾å¡ç»„",
    "Character": {
        "5": [
            {
                "game": "StarRail",
                "type": "Character",
                "star": 5,
                "content": "å…‹æ‹‰æ‹‰"
            },
            {
                "game": "StarRail",
                "type": "Character",
                "star": 5,
                "content": "å§¬å­"
            },
            ...
        ],
        "4": [
            {
                "game": "StarRail",
                "type": "Character",
                "star": 4,
                "content": "ä¸‰æœˆä¸ƒ"
            },
            {
                "game": "StarRail",
                "type": "Character",
                "star": 4,
                "content": "ä¸¹æ’"
            },
            ...
        ]
    },
    "Weapon": {
        "4": [
            {
                "game": "StarRail",
                "type": "Weapon",
                "star": 4,
                "content": "ã€Œæˆ‘ã€çš„è¯ç”Ÿ"
            },
            {
                "game": "StarRail",
                "type": "Weapon",
                "star": 4,
                "content": "ä¸€åœºæœ¯åå¯¹è¯"
            },
            ...
        ],
        "3": [
            {
                "game": "StarRail",
                "type": "Weapon",
                "star": 3,
                "content": "ä¹åœ®"
            },
            {
                "game": "StarRail",
                "type": "Weapon",
                "star": 3,
                "content": "ä¿±æ®"
            },
            ...
        ]
    }
}
```

#### 2.2 æ­£å¼å¡ç»„é…ç½®
æ‰€æœ‰çš„æ­£å¼å¡ç»„éƒ½åœ¨ `Data/CardGroups` ç›®å½•ä¸­é…ç½®ï¼Œæ–‡ä»¶åä»»æ„ï¼Œä½†å¿…é¡»ä»¥ `.json` ç»“å°¾ã€‚<br>

æ¯ä¸ª `json` æ­£å¼å¡ç»„é…ç½®æ–‡ä»¶ä»£è¡¨ä¸€ä¸ªæ­£å¼å¡ç»„ï¼Œæ¯ä¸ªæ–‡ä»¶éœ€åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- **name**ï¼šæ­£å¼å¡ç»„åç§°ï¼Œä¸”ä¸º**å”¯ä¸€æ ‡è¯†ç¬¦**
- **version**: å¡ç»„ç‰ˆæœ¬ï¼Œç‰¹ç”¨äºå®˜æ–¹å¡æ± çš„é…ç½®ï¼Œåœ¨å½“å‰ç‰ˆæœ¬ä¸­æ— å®é™…ä½œç”¨
- **is_official**: æ ‡æ³¨æ˜¯å¦ä¸ºå®˜æ–¹å¡æ± ï¼Œåœ¨å½“å‰ç‰ˆæœ¬ä¸­æ— å®é™…ä½œç”¨
- **standard**: å¼•ç”¨çš„å¸¸é©»å¡ç»„åç§°ï¼Œéœ€åœ¨ `Data/StandardGroups` ç›®å½•ä¸­å­˜åœ¨
- **exclude**: æ˜¯å¦å¯ç”¨**æ’é™¤æ¨¡å¼**ï¼Œå¯ç”¨åï¼Œå¸¸é©»å¡ç»„å°†è§†ä½œ**ä¸åŒ…å«**æ­£å¼å¡ç»„ä¸­çš„å¡ç‰‡
- æ­£å¼å¡ç»„ä¸­ï¼Œ**é™¤å¸¸é©»å¡ç»„å¤–ï¼Œé¢å¤–æ·»åŠ çš„å¡ç‰‡**ï¼Œä»¥**æ ‡ç­¾ç»„**çš„æ–¹å¼è¿›è¡Œåˆ†ç±»ï¼Œæ ‡ç­¾ç»„å†…éƒ¨å†æ¬¡æŒ‰ç…§ **ç±»å‹ -> æ˜Ÿçº§ -> å¡ç‰‡ç»„** çš„æ–¹å¼è¿›è¡Œåˆ†ç±»ï¼Œæ¯ä¸€ä¸ªå¡ç‰‡å¯¹è±¡éƒ½éœ€åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
  - **game**ï¼šå¡ç‰‡æ‰€å±æ¸¸æˆ
  - **type**ï¼šå¡ç‰‡ç±»å‹
  - **star**ï¼šå¡ç‰‡æ˜Ÿçº§
  - **content**ï¼šå¡ç‰‡å†…å®¹åç§°

å½“å‰å¯ä¾›é€‰æ‹©çš„æ ‡ç­¾ç»„æœ‰:
- **up ç»„**: UP å¡ç‰‡ç»„ï¼ŒåŒ…å«çš„å¡ç‰‡å°†ä½œä¸º UP å¡ç‰‡ï¼Œç‰¹ç”¨äºåŒ…å« UP ç›¸å…³æŠ½å¡é€»è¾‘çš„å¡æ± 
- **fes ç»„**: Fes å¡ç‰‡ç»„ï¼ŒåŒ…å«çš„å¡ç‰‡å°†ä½œä¸º Fes å¡ç‰‡ï¼Œç‰¹ç”¨äºåŒ…å« Fes ç›¸å…³æŠ½å¡é€»è¾‘çš„å¡æ± 
- **appoint ç»„**: Appoint å¡ç‰‡ç»„ï¼ŒåŒ…å«çš„å¡ç‰‡å°†ä½œä¸º Appoint å¡ç‰‡ï¼Œç‰¹ç”¨äºåŒ…å« Appoint (å®šè½¨) ç›¸å…³æŠ½å¡é€»è¾‘çš„å¡æ± 
- **standard ç»„**: å®é™…ä¸Šå·²åœ¨å¸¸é©»å¡ç»„ä¸­é…ç½®ï¼Œå› æ­¤æ— éœ€åœ¨æ­£å¼å¡ç»„ä¸­é¢å¤–é…ç½®ï¼ŒåŒ…å«çš„å¡ç‰‡å°†ä½œä¸ºå¸¸é©»å¡ç‰‡

**æ³¨æ„**: è¿™äº›æ ‡ç­¾ç»„åœ¨æ–‡ä»¶ä¸­å¿…é¡»**å°å†™**ï¼Œå¦åˆ™å°†æ— æ³•è¯†åˆ«ã€‚

#### æ­£å¼å¡ç»„é…ç½®ç¤ºä¾‹
```json
{
    "name": "é»˜è®¤å¡ç»„2",
    "version": "v3.3",
    "is_official": true,
    "standard": "å´©åï¼šæ˜Ÿç©¹é“é“-è§’è‰²-å¸¸é©»-å•æ ‡ç­¾å¡ç»„",
    "exclude": true,
    "up": {
        "Character": {
            "5": [
                {
                    "game": "StarRail",
                    "star": 5,
                    "type": "Character",
                    "content": "é£å ‡"
                }
            ],
            "4": [
                {
                    "game": "StarRail",
                    "star": 4,
                    "type": "Character",
                    "content": "ç±³æ²™"
                },
                {
                    "game": "StarRail",
                    "star": 4,
                    "type": "Character",
                    "content": "å¸Œéœ²ç“¦"
                },
                {
                    "game": "StarRail",
                    "star": 4,
                    "type": "Character",
                    "content": "å¨œå¡”è"
                }
            ]
        }
    }
}
```

### 3. æŠ½å¡é€»è¾‘é…ç½®
æ‰€æœ‰çš„æŠ½å¡é€»è¾‘éƒ½åœ¨ `Data/LogicConfig` ç›®å½•ä¸­é…ç½®ï¼Œæ–‡ä»¶åä»»æ„ï¼Œä½†å¿…é¡»ä»¥ `.json` ç»“å°¾ã€‚<br>

æ¯ä¸ª `json` æŠ½å¡é€»è¾‘é…ç½®æ–‡ä»¶ä»£è¡¨ä¸€ä¸ªæŠ½å¡é€»è¾‘ï¼Œæ¯ä¸ªæ–‡ä»¶éœ€åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- **name**ï¼šæŠ½å¡é€»è¾‘åç§°ï¼Œä¸”ä¸º**å”¯ä¸€æ ‡è¯†ç¬¦**
- **rules**: æŠ½å¡é€»è¾‘è§„åˆ™è¡¨ï¼Œæˆ–ç§°ä¹‹ä¸º**è§„åˆ™é“¾**ï¼Œå…¶ä¸­æŒ‰é¡ºåºé…ç½®ä¸åŒçš„**æŠ½å¡è§„åˆ™é¡¹**ï¼Œæ¯ä¸ªè§„åˆ™é¡¹éƒ½å…·æœ‰ä¸åŒçš„åŠŸèƒ½å’Œç›¸åº”çš„é…ç½®é¡¹

**æ³¨æ„**: è§„åˆ™é“¾ä¸­ï¼Œ**è§„åˆ™é¡¹çš„é¡ºåº**éå¸¸é‡è¦ï¼Œå› ä¸ºåœ¨æ¯ä¸€æ¬¡æŠ½å¡è¿‡ç¨‹ä¸­ï¼Œè§„åˆ™é“¾å°†**æŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œè§„åˆ™é¡¹**ï¼Œç¡®å®šæŠ½å¡ç»“æ„ï¼Œåœ¨æŠ½å¡ç»“æŸåï¼Œå†æ¬¡**æŒ‰ç…§é¡ºåºä¾æ¬¡å›è°ƒè§„åˆ™é¡¹**ã€‚è‹¥éç‰¹åˆ«è¯´æ˜ï¼Œä»¥ä¸‹è§„åˆ™é¡¹çš„ä¸ªæ“ä½œéƒ½åœ¨**æ‰§è¡Œ**ä¸­å®Œæˆã€‚

#### è§„åˆ™é¡¹ä»‹ç»
ç›®å‰ï¼Œå¯ä¾›é€‰ç”¨çš„ **14** ä¸ªè§„åˆ™é¡¹ä¸º:

- **StarCounterRule**: **æ˜Ÿçº§è®¡æ•°è§„åˆ™**ï¼Œç”¨äºç»Ÿè®¡æŠ½å¡è¿‡ç¨‹ä¸­ï¼Œ**ä¸åŒæ˜Ÿçº§å¡ç‰‡çš„æŠ½å¡æ¬¡æ•°**ï¼Œä»¥ä¾›å…¶ä»–è§„åˆ™ä½¿ç”¨ã€‚è®¡æ•°å™¨ä¼šåœ¨æŠ½å‡ºå¯¹åº”æ˜Ÿçº§åé‡ç½®ï¼Œä¸”è®¡æ•°å™¨çš„æ›´æ–°åœ¨å›è°ƒä¸­å®Œæˆã€‚å› æ­¤ï¼Œæ— è®ºè¯¥è§„åˆ™é¡¹è¢«ç½®äºè§„åˆ™é“¾ä¸­çš„ä»»ä½•ä½ç½®ï¼Œå…¶éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œä½†**ä¸€èˆ¬ç½®äºè§„åˆ™é“¾é¦–éƒ¨**ã€‚<br> 
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **star_list**: éœ€è¦ç»Ÿè®¡æ˜Ÿçº§è®¡æ•°çš„åˆ—è¡¨ï¼Œå¦‚ `[5, 4, 3]`ï¼Œè¡¨ç¤ºéœ€è¦ç»Ÿè®¡ 5 æ˜Ÿã€4 æ˜Ÿã€3 æ˜Ÿå¡ç‰‡çš„æŠ½å¡æ¬¡æ•°


- **TypeStarCounterRule**: **åŸºäºæ˜Ÿçº§çš„ç±»å‹è®¡æ•°å™¨è§„åˆ™**ï¼Œç»Ÿè®¡**æ¯ä¸ªæ˜Ÿçº§ä¸‹å„ç±»å‹çš„æŠ½å¡è®¡æ•°**ï¼Œä»¥ä¾›å…¶ä»–è§„åˆ™ä½¿ç”¨ã€‚è®¡æ•°å™¨ä¼šåœ¨æŠ½å‡ºå¯¹åº”æ˜Ÿçº§ä¸‹çš„å¯¹åº”ç±»å‹åé‡ç½®ï¼Œä¸”è®¡æ•°å™¨çš„æ›´æ–°åœ¨å›è°ƒä¸­å®Œæˆã€‚å› æ­¤ï¼Œæ— è®ºè¯¥è§„åˆ™é¡¹è¢«ç½®äºè§„åˆ™é“¾ä¸­çš„ä»»ä½•ä½ç½®ï¼Œå…¶éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œä½†**ä¸€èˆ¬ç½®äºè§„åˆ™é“¾é¦–éƒ¨**ã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **type_star_dict**: éœ€è¦ç±»å‹è®¡æ•°çš„å­—å…¸ï¼Œå¦‚ `{"5": ["Character", "Weapon"]}` ï¼Œè¡¨ç¤ºéœ€è¦ç»Ÿè®¡ 5 æ˜Ÿè§’è‰²å’Œ 5 æ˜Ÿæ­¦å™¨çš„æŠ½å¡æ¬¡æ•°
  
  **æ³¨æ„**: æ¯æ¬¡æŠ½å¡åï¼Œä»…æœ‰**å½“å‰æŠ½æ˜Ÿçº§ä¸‹çš„è®¡æ•°å™¨**ä¼šæ›´æ–°ï¼Œå…¶ä»–æ˜Ÿçº§çš„è®¡æ•°å™¨ä¸ä¼šæ›´æ–°ã€‚<br>


- **StarProbabilityRule**: **æ˜Ÿçº§æ¦‚ç‡è§„åˆ™**ï¼Œç”¨äºæ ¹æ®æ˜Ÿçº§æ¦‚ç‡è¡¨ï¼ŒéšæœºæŠ½å–å¯¹åº”æ˜Ÿçº§å¡ç‰‡ã€‚æ¯æ¬¡å›è°ƒæ—¶ï¼Œéƒ½ä¼šé‡ç½®å½“å‰æ¦‚ç‡ä¸ºåŸºç¡€æ¦‚ç‡ã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **star_probability**: æ˜Ÿçº§æ¦‚ç‡æƒé‡è¡¨ï¼Œå¦‚ `{"5": 60, "4": 510, "3": 9430}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„åŸºç¡€æ¦‚ç‡ä¸º 0.6%ï¼Œ4 æ˜Ÿå¡ç‰‡çš„åŸºç¡€æ¦‚ç‡ä¸º 5.1%ï¼Œ3 æ˜Ÿå¡ç‰‡çš„åŸºç¡€æ¦‚ç‡ä¸º 94.3%ã€‚<br>

  **æ³¨æ„**: `Wishes` é‡‡ç”¨**æ•´æ•°æ¦‚ç‡æƒé‡**ï¼Œä»¥é¿å…æµ®ç‚¹æ•°å¯¼è‡´çš„ç²¾åº¦é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨é…ç½®æ—¶ï¼Œéœ€è¦å°†æ¦‚ç‡**ä¹˜ä»¥ 10000**ï¼Œå¦‚ 0.6% çš„æ¦‚ç‡éœ€é…ç½®ä¸º 60ï¼Œ5.1% çš„æ¦‚ç‡éœ€é…ç½®ä¸º 510ï¼Œ94.3% çš„æ¦‚ç‡éœ€é…ç½®ä¸º 9430ã€‚é…ç½®æ—¶ï¼Œå°½é‡ä¿è¯**å„æ˜Ÿçº§æ¦‚ç‡ä¹‹å’Œä¸º 10000**ã€‚


- **TypeStarProbabilityRule**: **åŸºäºæ˜Ÿçº§çš„ç±»å‹åŸºç¡€æ¦‚ç‡è§„åˆ™**ï¼Œæ ¹æ®å½“å‰æ˜Ÿçº§ï¼Œå’Œæ˜Ÿçº§å¯¹åº”çš„ç±»å‹æ¦‚ç‡æƒé‡å†³å®šå½“å‰æŠ½ç±»å‹ã€‚å¿…é¡»åœ¨ç¡®å®šå½“å‰æŠ½æ˜Ÿçº§åä½¿ç”¨ï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **type_probability**: ç±»å‹æ˜Ÿçº§æ¦‚ç‡æƒé‡è¡¨ï¼Œå¦‚ `{"5": {"Character": 10000}`, è¡¨ç¤º 5 æ˜Ÿå¡ç‰‡ä¸­ï¼Œè§’è‰²å¡ç‰‡çš„æ¦‚ç‡ä¸º 100%ï¼Œä¸”ä¸åŒ…å«å…¶ä»–ç±»å‹å¡ç‰‡ã€‚


- **StarPityRule**: **æ˜Ÿçº§ä¿åº•è§„åˆ™**ï¼Œæä¾›å¯¹åº”æ˜Ÿçº§çš„ä¿åº•ï¼Œè‹¥æŠ½å¡æ¬¡æ•°è¾¾åˆ°é˜ˆå€¼ï¼Œåˆ™è§¦å‘ä¿åº•ï¼Œå¹¶é‡ç½®è®¡æ•°å™¨ã€‚å¿…é¡»åœ¨ä½¿ç”¨äº†**StarCounterRule**å¹¶é…ç½®äº†ç›¸å…³æ˜Ÿçº§çš„è®¡æ•°åï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **star_pity**: æ˜Ÿçº§ä¿åº•å­—å…¸ï¼Œå¦‚ `{"5": 90, "4": 10}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„ä¿åº•é˜ˆå€¼ä¸º 90 æ¬¡ï¼Œ4 æ˜Ÿå¡ç‰‡çš„ä¿åº•é˜ˆå€¼ä¸º 10 æ¬¡ã€‚
  - **reset_lower_pity**: å½“æŠ½å‡ºé«˜æ˜Ÿçº§å¡ç‰‡æ—¶ï¼Œ**æ˜¯å¦é‡ç½®ä½æ˜Ÿçº§å¡ç‰‡çš„ä¿åº•è®¡æ•°**ã€‚è¿™ä¸€é‡ç½®æ“ä½œåœ¨**å›è°ƒ**ä¸­å®Œæˆã€‚

  **æ³¨æ„**: è‹¥ä¸¤ä¸ªæ˜Ÿçº§åŒæ—¶è§¦å‘ä¿åº•ï¼Œå°†**åªè§¦å‘**ä¼˜å…ˆçš„æ˜Ÿçº§ä¿åº•ã€‚ä¿åº•è§¦å‘çš„ä¼˜å…ˆçº§æŒ‰ç…§ **star_pity** ä¸­çš„**é…ç½®é¡ºåº**è§„å®šï¼Œè€Œ**ä¸ç”±**æ˜Ÿçº§çš„å¤§å°è§„å®šã€‚


- **TypeStarPityRule**: **åŸºäºæ˜Ÿçº§çš„ç±»å‹ä¿åº•è§„åˆ™**ï¼Œæä¾›å¯¹åº”æ˜Ÿçº§ä¸‹å„ç±»å‹çš„ä¿åº•ï¼Œè‹¥æŠ½å¡æ¬¡æ•°è¾¾åˆ°é˜ˆå€¼ï¼Œåˆ™è§¦å‘ä¿åº•ï¼Œå¹¶é‡ç½®è®¡æ•°å™¨ã€‚å¿…é¡»åœ¨ä½¿ç”¨äº†**TypeStarCounterRule**å¹¶é…ç½®äº†ç›¸å…³æ˜Ÿçº§ä¸‹ç±»å‹çš„è®¡æ•°åï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:
  
  - **type_pity**: ç±»å‹ä¿åº•å­—å…¸ï¼Œå¦‚ `{"5": {"Character": 1}, "4": {"Weapon": 1}}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡ä¸­ï¼Œè§’è‰²å¡ç‰‡çš„ä¿åº•é˜ˆå€¼ä¸º 1 æ¬¡ï¼›å››æ˜Ÿå¡ç‰‡ä¸­ï¼Œæ­¦å™¨å¡ç‰‡çš„ä¿åº•é˜ˆå€¼ä¸º 1 æ¬¡ã€‚


- **UpRule**: **UP è§„åˆ™**, æä¾›åŸºäºæ˜Ÿçº§çš„ UP è§„åˆ™ï¼Œæ¯æ¬¡æ ¹æ®å¯¹åº”æ˜Ÿçº§çš„ UP æ¦‚ç‡å†³å®šæ˜¯å¦ä¸º UPï¼ŒåŒæ—¶é™„å¸¦ UP è®¡æ•°å™¨å’Œ UP ä¿åº•åŠŸèƒ½ã€‚å¿…é¡»**åœ¨ç¡®å®šå½“å‰æŠ½æ˜Ÿçº§åä½¿ç”¨**ï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **up_probability**: UP æ¦‚ç‡å­—å…¸ï¼Œå¦‚ `{"5": 1000, "4": 5000}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„ UP æ¦‚ç‡ä¸º 10%ï¼Œ4 æ˜Ÿå¡ç‰‡çš„ UP æ¦‚ç‡ä¸º 50%ã€‚(ç›¸å¯¹äºæ€»æƒé‡ï¼š10000)
  - **up_pity**: UP ä¿åº•å­—å…¸ï¼Œå¦‚ `{"5": 1, "4": 1}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„ UP ä¿åº•é˜ˆå€¼ä¸º 1 æ¬¡ï¼Œ4 æ˜Ÿå¡ç‰‡çš„ UP ä¿åº•é˜ˆå€¼ä¸º 1 æ¬¡ã€‚

  **æ³¨æ„**: UP è®¡æ•°å™¨çš„æ›´æ–°åœ¨**æ‰§è¡Œ**ä¸­å®Œæˆï¼Œä¸”æ¯æ¬¡æŠ½å¡**åªæ›´æ–°å½“å‰æŠ½æ˜Ÿçº§ä¸‹**çš„è®¡æ•°å™¨ã€‚


- **UpTypeRule**: **UP ç±»å‹åˆ†å¸ƒè§„åˆ™**ï¼Œç”¨äºåœ¨ UP è§„åˆ™è§¦å‘ UP åï¼Œæ ¹æ® UP ç±»å‹æ¦‚ç‡è¡¨ï¼Œå†³å®š UP å¡ç‰‡çš„ç±»å‹ï¼ŒåŒæ—¶é™„å¸¦åŸºäºæ˜Ÿçº§çš„ UP ç±»å‹è®¡æ•°å™¨å’Œä¿åº•ã€‚å¿…é¡»**åœ¨ç¡®å®šå½“å‰æŠ½æ˜Ÿçº§åä½¿ç”¨**ï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **up_type_probability**: UP ç±»å‹æ¦‚ç‡å­—å…¸ï¼Œå¦‚ `{"5": {"Character": 10000}, "4": {"Character": 5000, "Weapon": 5000}}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„ UP ç±»å‹ä¸ºè§’è‰²ï¼Œ4 æ˜Ÿå¡ç‰‡çš„ UP ç±»å‹ä¸ºè§’è‰²æˆ–æ­¦å™¨ï¼Œä¸”æ¦‚ç‡å‡ç­‰ã€‚
  - **up_type_pity**: UP ç±»å‹ä¿åº•å­—å…¸ï¼Œå¦‚ `{"5": {"Character": 1}, "4": {"Character": 1}}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡ä¸­ï¼Œè§’è‰²å¡ç‰‡çš„ UP ä¿åº•é˜ˆå€¼ä¸º 1 æ¬¡ï¼›å››æ˜Ÿå¡ç‰‡ä¸­ï¼Œè§’è‰²å¡ç‰‡çš„ UP ä¿åº•é˜ˆå€¼ä¸º 1 æ¬¡ã€‚


- **StarProbabilityIncreaseRule**: **æ˜Ÿçº§æ¦‚ç‡å¢é•¿è§„åˆ™**ï¼Œå®ç°æ˜Ÿçº§æ¦‚ç‡ä»**æŒ‡å®šæŠ½æ•°**å¼€å§‹ï¼ŒéšæŠ½æ•°**ç­‰å·®å¢é•¿**ã€‚ç”±äºåŸç†æ˜¯åœ¨æ¯æ¬¡æŠ½å¡å¼€å§‹å‰ï¼Œä¿®æ”¹ **StarProbabilityRule** çš„æ¦‚ç‡ï¼Œå› æ­¤å¿…é¡»åœ¨ä½¿ç”¨äº†**StarCounterRule**å¹¶é…ç½®äº†ç›¸å…³æ˜Ÿçº§çš„è®¡æ•°åï¼Œä¸”å…ˆäº **StarProbabilityRule** æ‰§è¡Œï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **star_increase**: æ˜Ÿçº§æ¦‚ç‡å¢é•¿å­—å…¸ï¼Œå¦‚ `{"5": [74, 600], "4": [9, 5100]}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„æ¦‚ç‡ä»ç¬¬ 74 æ¬¡æŠ½å¡å¼€å§‹ï¼Œæ¯æ¬¡æŠ½å¡åå¢åŠ  6%ï¼Œ4 æ˜Ÿå¡ç‰‡çš„æ¦‚ç‡ä»ç¬¬ 9 æ¬¡æŠ½å¡å¼€å§‹ï¼Œæ¯æ¬¡æŠ½å¡åå¢åŠ  51%ã€‚

  **æ³¨æ„**: è¯¥è§„åˆ™é¡¹çš„é…ç½®**ä¸ä¼šå½±å“**åŸºç¡€æ¦‚ç‡ï¼Œåªä¼šå½±å“**å¢é•¿åçš„æ¦‚ç‡**ã€‚ä¸”å½“ **StarCounterRule** çš„è®¡æ•°é‡ç½®åï¼Œè¯¥è§„åˆ™å¯¹æ¦‚ç‡çš„å½±å“ä¹Ÿå°†é‡ç½®ã€‚


- **StarProbabilityIntervalIncreaseRule**: **æ˜Ÿçº§æ¦‚ç‡åŒºé—´å¢é•¿è§„åˆ™**ï¼Œå®ç°æ˜Ÿçº§æ¦‚ç‡åœ¨**ä¸åŒåŒºé—´**å†…éšæŠ½æ•°å†…**ç­‰å·®å¢é•¿**ã€‚ç”±äºåŸç†æ˜¯åœ¨æ¯æ¬¡æŠ½å¡å¼€å§‹å‰ï¼Œä¿®æ”¹ **StarProbabilityRule** çš„æ¦‚ç‡ï¼Œå› æ­¤å¿…é¡»åœ¨ä½¿ç”¨äº†**StarCounterRule**å¹¶é…ç½®äº†ç›¸å…³æ˜Ÿçº§çš„è®¡æ•°åï¼Œä¸”å…ˆäº **StarProbabilityRule** æ‰§è¡Œï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **star_increase**: æ˜Ÿçº§æ¦‚ç‡å¢é•¿å­—å…¸ï¼Œå¦‚ `{"5": [[66, 400], [71, 800], [76, 1000]]}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„æ¦‚ç‡åœ¨ 66-70 æ¬¡æŠ½å¡å†…ï¼Œæ¯æ¬¡æŠ½å¡å¢åŠ  4%ï¼Œåœ¨ 71-75 æ¬¡æŠ½å¡å†…ï¼Œæ¯æ¬¡æŠ½å¡å¢åŠ  8%ï¼Œåœ¨ 76 æ¬¡æŠ½å¡åŠä»¥åï¼Œæ¯æ¬¡æŠ½å¡å¢åŠ  10%ã€‚

  **æ³¨æ„**: è¯¥è§„åˆ™é¡¹çš„é…ç½®**ä¸ä¼šå½±å“**åŸºç¡€æ¦‚ç‡ï¼Œåªä¼šå½±å“**å¢é•¿åçš„æ¦‚ç‡**ã€‚ä¸”å½“ **StarCounterRule** çš„è®¡æ•°é‡ç½®åï¼Œè¯¥è§„åˆ™å¯¹æ¦‚ç‡çš„å½±å“ä¹Ÿå°†é‡ç½®ã€‚


- **FesRule**: **Fes è§„åˆ™**ï¼Œåœ¨ UP å†…éƒ¨ï¼Œå†æ¬¡è¿›è¡Œ **Fes æŠ½å–**ï¼Œåˆ¤å®šæ˜¯å¦ç”± UP å¡ç‰‡**å‡ä¸º Fes å¡ç‰‡**ã€‚å¿…é¡»åœ¨**ç¡®å®šå½“å‰æ˜Ÿçº§**ï¼Œå¹¶**ç¡®å®šæ˜¯å¦ä¸º UP å¡ç‰‡**åï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **fes_probability**: Fes æ¦‚ç‡å­—å…¸ï¼Œå¦‚ `{"5": 1000, "4": 5000}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„ Fes æ¦‚ç‡ä¸º 10%ï¼Œ4 æ˜Ÿå¡ç‰‡çš„ Fes æ¦‚ç‡ä¸º 50%ã€‚(ç›¸å¯¹äºæ€»æƒé‡ï¼š10000)


- **AppointRule**: **Appoint (å®šè½¨)è§„åˆ™**ï¼Œåœ¨ UP å†…éƒ¨å†æ¬¡æŒ‡å®š Appoint (å®šè½¨)å¡ç‰‡ï¼Œå½“ç»“æœä¸º UP ä¸”è®¡æ•°å™¨è¶…è¿‡ Appoint é˜ˆå€¼æ—¶ï¼Œå¼ºåˆ¶ç»“æœä¸º Appoint (å®šè½¨)å¡ç‰‡ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œè¢«æŒ‡å®šä¸º Appoint çš„å¡ç‰‡åŒæ—¶ä¹Ÿæ˜¯ UP å¡ç‰‡ã€‚å¿…é¡»åœ¨**ç¡®å®šå½“å‰æ˜Ÿçº§**ï¼Œå¹¶**ç¡®å®šæ˜¯å¦ä¸º UP å¡ç‰‡**åï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **appoint_pity**: Appoint é˜ˆå€¼å­—å…¸ï¼Œå¦‚ `{"5": 1, "4": 1}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„ Appoint é˜ˆå€¼ä¸º 1 æ¬¡ï¼Œ4 æ˜Ÿå¡ç‰‡çš„ Appoint é˜ˆå€¼ä¸º 1 æ¬¡ã€‚

  **æ³¨æ„**: Appoint è®¡æ•°å™¨çš„æ›´æ–°åœ¨**å›è°ƒ**ä¸­å®Œæˆï¼Œä¸”åªè¦å½“å‰æŠ½ç»“æœä¸ä¸º Appoint (å®šè½¨)å¡ç‰‡ï¼Œè®¡æ•°å™¨å°±ä¼šè‡ªå¢ï¼Œå¦åˆ™è®¡æ•°å™¨é‡ç½®ã€‚


- **CaptureRule**: **æ•è·è§„åˆ™**ï¼Œåœ¨è¿›è¡Œ UP æŠ½å–å‰ï¼Œä¼˜å…ˆè¿›è¡Œæ•è·åˆ¤å®š, è‹¥åˆ¤å®šæˆåŠŸ, åˆ™ç›´æ¥åˆ¤å®šå½“å‰æŠ½ä¸º UP å¡ç‰‡ã€‚å¿…é¡»åœ¨**ç¡®å®šå½“å‰æ˜Ÿçº§**åï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **capture_probability**: æ•è·æ¦‚ç‡å­—å…¸ï¼Œå¦‚ `{"5": 1000, "4": 5000}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„æ•è·æ¦‚ç‡ä¸º 10%ï¼Œ4 æ˜Ÿå¡ç‰‡çš„æ•è·æ¦‚ç‡ä¸º 50%ã€‚(ç›¸å¯¹äºæ€»æƒé‡ï¼š10000)


- **CapturePityRule**: **æ•è·ä¿åº•è§„åˆ™**ï¼Œå½“**è¿ç»­æŒ‡å®šæ¬¡æ•°**éƒ½é€šè¿‡ UP ä¿åº•æ‰è·å¾— UP å¡ç‰‡æ—¶ï¼Œä¸‹æ¬¡è·å–è¯¥æ˜Ÿçº§åï¼Œå¿…å®šåˆ¤å®šæ•è·æˆåŠŸï¼Œå³ç¡®å®šä¸º UP å¡ç‰‡ã€‚å¿…é¡»åœ¨**ç¡®å®šå½“å‰æ˜Ÿçº§**åï¼Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚<br>
åŒ…å«ä»¥ä¸‹é…ç½®é¡¹:

  - **capture_pity**: æ•è·ä¿åº•å­—å…¸ï¼Œå¦‚ `{"5": 3, "4": 1}`ï¼Œè¡¨ç¤º 5 æ˜Ÿå¡ç‰‡çš„æ•è·ä¿åº•é˜ˆå€¼ä¸º 3 æ¬¡ï¼Œ4 æ˜Ÿå¡ç‰‡çš„æ•è·ä¿åº•é˜ˆå€¼ä¸º 1 æ¬¡ã€‚
  
  **æ³¨æ„**: æœ¬è§„åˆ™ä¸ **CaptureRule** ç›¸äº’ç‹¬ç«‹ï¼ŒäºŒè€…å‡å¯ç‹¬ç«‹ä½¿ç”¨ã€‚æ­¤å¤–ï¼Œåªè¦å½“å‰æŠ½**ä¸æ˜¯ç”± UP ä¿åº•è·å¾—çš„ UP å¡ç‰‡**ï¼Œæ•è·ä¿åº•è®¡æ•°å™¨å°±ä¼šé‡ç½®ï¼Œå¦åˆ™è®¡æ•°å™¨è‡ªå¢ã€‚


#### æŠ½å¡é€»è¾‘é…ç½®ç¤ºä¾‹
```json
{
    "name": "å´©åï¼šæ˜Ÿç©¹é“é“-è§’è‰²-UPå¡æ± -æŠ½å¡è§„åˆ™",
    "rules": {
        "StarCounterRule": {
            "star_list": [
                5, 4
            ]
        },
        "StarPityRule": {
            "star_pity": {
                "5": 90,
                "4": 10
            },
            "reset_lower_pity": false
        },
        "StarProbabilityIncreaseRule": {
            "star_increase": {
                "5": [74, 600],
                "4": [9, 5100]
            }
        },
        "StarProbabilityRule": {
            "star_probability": {
                "5": 60,
                "4": 510,
                "3": 9430
            }
        },
        "UpRule": {
            "up_probability": {
                "5": 5000,
                "4": 5000
            },
            "up_pity": {
                "5": 1,
                "4": 1
            }
        },
        "UpTypeRule": {
            "up_type_probability": {
                "4": {"Character": 10000}
            },
            "up_type_pity": {}
        },
        "TypeStarProbabilityRule": {
            "type_probability": {
                "5": {"Character": 10000},
                "4": {"Character": 5000, "Weapon": 5000},
                "3": {"Weapon": 10000}
            }
        }
    }
}
```


### 4. å¡æ± é…ç½®
æ‰€æœ‰çš„å¡æ± éƒ½åœ¨ `Data/CardPools` ç›®å½•ä¸­é…ç½®ï¼Œæ–‡ä»¶åä»»æ„ï¼Œä½†å¿…é¡»ä»¥ `.json` ç»“å°¾ã€‚<br>

æ¯ä¸ª `json` å¡æ± é…ç½®æ–‡ä»¶ä»£è¡¨ä¸€ä¸ªå¡æ± ï¼Œæ¯ä¸ªæ–‡ä»¶éœ€åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- **name**ï¼šå¡æ± åç§°ï¼Œä¸”ä¸º**å”¯ä¸€æ ‡è¯†ç¬¦**
- **card_group**: ä½¿ç”¨çš„æ­£å¼å¡ç»„åç§°ï¼Œéœ€åœ¨ `Data/CardGroups` ç›®å½•ä¸­å­˜åœ¨
- **logic**: ä½¿ç”¨çš„æŠ½å¡é€»è¾‘åç§°ï¼Œéœ€åœ¨ `Data/LogicConfig` ç›®å½•ä¸­å­˜åœ¨
- **recorder_dir**: æŠ½å¡è®°å½•ä¿å­˜ç›®å½•ï¼Œç›¸å¯¹äº `Wishes` ç›®å½•ï¼Œæ¨èåœ¨ `Data/Records` ä¸‹æ–°å»ºç›®å½•ä½¿ç”¨ã€‚ç›®å½•ä¸­å°†åŒ…å«ä¸‰ä¸ªæ–‡ä»¶: `profile.json`ã€`details.csv` å’Œ `interval.csv`ï¼Œåˆ†åˆ«ä¿å­˜**æ±‡æ€»è®°å½•**ã€**è¯¦ç»†è®°å½•**å’Œ**å¡ç»„ä¸­æœ€é«˜æ˜Ÿçº§çš„é—´éš”æŠ½æ•°è®°å½•**ã€‚
- ***logic_state**: æŠ½å¡é€»è¾‘çŠ¶æ€ï¼Œä¿å­˜æŠ½å¡é€»è¾‘çš„çŠ¶æ€ï¼Œå¦‚ä¿åº•è®¡æ•°å™¨ç­‰ï¼Œè¯¥å­—æ®µå°†åœ¨æ–°å»ºå¡æ± å**è‡ªåŠ¨åˆ›å»º**ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

#### å¡æ± é…ç½®ç¤ºä¾‹
```json
{
    "name": "Normal2",
    "card_group": "é»˜è®¤å¡ç»„2",
    "logic": "å´©åï¼šæ˜Ÿç©¹é“é“-è§’è‰²-UPå¡æ± -æŠ½å¡è§„åˆ™",
    "recorder_dir": "Data/Records/Normal2",
    "logic_state": {
        "StarCounterRule": {
            "star_counter": {
                "5": 32,
                "4": 0
            }
        },
        "StarPityRule": {
            "is_pity": {
                "5": false,
                "4": false
            }
        },
        "UpRule": {
            "up_counter": {
                "5": 0,
                "4": 0
            },
            "is_up_pity": {
                "5": false,
                "4": true
            }
        }
    }
}
```
**æ³¨æ„**: `logic_state`ä¸ºè‡ªåŠ¨åˆ›å»º

---

## English

**Note**: Some of the content is translated using AI tools, and may be not accurate. For the most accurate information, please refer to the Chinese version.

`Wishes` is a **highly customizable and adaptable gacha simulator** for games.<br>
Core features include:
- Simulating gacha algorithms
- Animated drawing effects with character/item illustrations
- Gacha history recording and statistical analytics
- Customizable pool creation & card/deck management

---

#### Important Notice
Built with [Python](https://www.python.org/) `3.13` as the primary language.<br>

Currently in **core development phase** (CLI-only). Future releases will feature a GUI using [Qt6](https://www.qt.io/) and `Qt Quick`.

---

## Getting Started
Download the latest release Wishes v3.0.1 from [GitHub Release](https://github.com/GeZhe-GAZE/Wishes/releases), extract the package, and run `Wishes.exe`.<br>

Alternatively, clone the repository from [GitHub Repository](https://github.com/GeZhe-GAZE/Wishes) and run `main_command_line.py`:

```bash
python main_command_line.py
```

## Customization
The most significant feature of `Wishes v3` is its **customization capabilities**.<br>

Customize **cards**, **decks**, **gacha logic**, and **card pools** through JSON configuration files.<br>

Detailed configuration process:

### 1. Card Configuration
Card configuration files use JSON format and reside in `Data/Cards`. Filenames are arbitrary but must end with `.json`.<br>

Directory structure: **Data/Cards/< Game >/< Type >/< StarRating >/*.json**

Each JSON file represents one card and requires these fields:

- **content**: Card content name
- **game**: Game affiliation
- **type**: Card type (e.g., **Character**, **Weapon**)
- **star**: Star rating (integer)
- **attribute**: Card attribute (e.g., **Ice**, **Fire**, **Wind**)
- **title**: Card title (currently unused)
- **profession**: Profession type (e.g., **Erudition**, **Sword**, **Break**)
- **image_path**: Illustration path (relative to Wishes directory)

After adding cards, register the directory structure in `Data/Config/CardsDirConfig.json`.

#### Card Configuration Example
```json
{
    "content": "èƒ¡æ¡ƒ",
    "game": "Genshin",
    "star": 5,
    "type": "Character",
    "attribute": "ç«",
    "title": "",
    "profession": "é•¿æŸ„æ­¦å™¨",
    "image_path": "Data/Images/Genshin/Character/Star5/èƒ¡æ¡ƒ.png"
}
```

#### Directory Structure Example
```json
{
    "Genshin": {
        "Character": [5, 4],
        "Weapon": [5, 4, 3]
    },
    "StarRail": {
        "Character": [5, 4],
        "Weapon": [5, 4, 3]
    },
    "ZZZ": {
        "Character": [5, 4],
        "Weapon": [5, 4, 3],
        "Bangboo": [5, 4]
    }
}
```

### 2. Deck Configuration
Decks are categorized as **Standard Decks** and **Formal Decks**. Standard decks are reusable components of formal decks.

#### 2.1 Standard Deck Configuration
Standard decks are configured in `Data/StandardGroups` (files must end with `.json`).

Each file requires:

- **name**: Deck name, Unique identifier
- **Type â†’ StarRating â†’ Card Group**: Cards must include:
  - game: Game affiliation
  - type: Card type
  - star: Star rating
  - content: Card content name

> Ensure no duplicate **content** values within the same type and star rating.

#### Standard Deck Example
```json
{
    "name": "å´©åï¼šæ˜Ÿç©¹é“é“-è§’è‰²-å¸¸é©»-å•æ ‡ç­¾å¡ç»„",
    "Character": {
        "5": [
            {
                "game": "StarRail",
                "type": "Character",
                "star": 5,
                "content": "å…‹æ‹‰æ‹‰"
            },
            {
                "game": "StarRail",
                "type": "Character",
                "star": 5,
                "content": "å§¬å­"
            },
            ...
        ],
        "4": [
            {
                "game": "StarRail",
                "type": "Character",
                "star": 4,
                "content": "ä¸‰æœˆä¸ƒ"
            },
            {
                "game": "StarRail",
                "type": "Character",
                "star": 4,
                "content": "ä¸¹æ’"
            },
            ...
        ]
    },
    "Weapon": {
        "4": [
            {
                "game": "StarRail",
                "type": "Weapon",
                "star": 4,
                "content": "ã€Œæˆ‘ã€çš„è¯ç”Ÿ"
            },
            {
                "game": "StarRail",
                "type": "Weapon",
                "star": 4,
                "content": "ä¸€åœºæœ¯åå¯¹è¯"
            },
            ...
        ],
        "3": [
            {
                "game": "StarRail",
                "type": "Weapon",
                "star": 3,
                "content": "ä¹åœ®"
            },
            {
                "game": "StarRail",
                "type": "Weapon",
                "star": 3,
                "content": "ä¿±æ®"
            },
            ...
        ]
    }
}
```

#### 2.2 Formal Deck Configuration
Formal decks are configured in `Data/CardGroups` (files must end with `.json`).

Each file requires:

- **name**: Unique identifier
- **version**: Pool version (currently unused)
- **is_official**: Official pool flag (currently unused)
- **standard**: Referenced standard deck name
- **exclude**: Exclusion mode (if `true`, excludes formal deck cards from standard deck)
- Additional cards categorized under **tag groups**:
  - **up**: UP cards
  - **fes**: Fes cards
  - **appoint**: Appoint (pity target) cards

> Tag groups must be **lowercase** in configuration files.

#### Formal Deck Example
```json
{
    "name": "é»˜è®¤å¡ç»„2",
    "version": "v3.3",
    "is_official": true,
    "standard": "å´©åï¼šæ˜Ÿç©¹é“é“-è§’è‰²-å¸¸é©»-å•æ ‡ç­¾å¡ç»„",
    "exclude": true,
    "up": {
        "Character": {
            "5": [
                {
                    "game": "StarRail",
                    "star": 5,
                    "type": "Character",
                    "content": "é£å ‡"
                }
            ],
            "4": [
                {
                    "game": "StarRail",
                    "star": 4,
                    "type": "Character",
                    "content": "ç±³æ²™"
                },
                {
                    "game": "StarRail",
                    "star": 4,
                    "type": "Character",
                    "content": "å¸Œéœ²ç“¦"
                },
                {
                    "game": "StarRail",
                    "star": 4,
                    "type": "Character",
                    "content": "å¨œå¡”è"
                }
            ]
        }
    }
}
```

### 3. Gacha Logic Configuration
Gacha logic is configured in `Data/LogicConfig` (files must end with `.json`).

Each file requires:

- **name**: Unique identifier
- **rules**: Rule chain (executed sequentially during pulls)

> Rule order matters. Rules execute during pull determination and trigger callbacks post-pull.

#### Available Rules (14)
1. **StarCounterRule**: Tracks pull counts per star rating.<br>
Config: 
  - `"star_list": [5,4,3]`

2. **TypeStarCounterRule**: Tracks pull counts per type within star ratings.<br>
Config: 
  - `"type_star_dict": {"5": ["Character", "Weapon"]}`

3. **StarProbabilityRule**: Determines star rating via weighted probabilities.<br>
Config: 
  - `"star_probability": {"5": 60, "4": 510, "3": 9430}`

  > Sum of probabilities must equal 10000. Probabilities use integer weights (e.g., 0.6% = 60).

4. **TypeStarProbabilityRule**: Determines card type given a star rating.<br>
Config: 
  -`"type_probability": {"5": {"Character": 10000}}`

5. **StarPityRule**: Implements pity counters per star rating.<br>
Config: 
  - `"star_pity": {"5": 90, "4": 10}`
  - `"reset_lower_pity: true"` (reset lower star pity counters when cards of higher star ratings are drawn)

6. **TypeStarPityRule**: Implements pity counters per type within star ratings.<br>
Config: 
  - `"type_pity": {"5": {"Character": 1}}`

7. **UpRule**: Determines UP status and implements UP pity.<br>
Config: 
  - `"up_probability": {"5": 5000}, "up_pity": {"5": 1}`
  - `"up_pity": {"5": 1, "4": 1}`

8. **UpTypeRule**: Determines UP type distribution.<br>
Config: 
  - `"up_type_probability": {"5": {"Character": 10000}}`
  - `"up_type_pity": {"5": {"Character": 1}}`

9. **StarProbabilityIncreaseRule**: Linearly increases star probability after threshold.<br>
Config: 
  - `"star_increase": {"5": [74, 600]}` (Increases 5â˜… probability by 6% starting at pull 74)

10. **StarProbabilityIntervalIncreaseRule**: Increases star probability in intervals.<br>
Config: 
  - `"star_increase": {"5": [[66,400],[71,800]]}`

11. **FesRule**: Determines Fes status within UP pulls.<br>
Config: 
  - `"fes_probability": {"5": 1000}`

12. **AppointRule**: Implements Appoint (pity target) mechanics.<br>
Config: 
  - `"appoint_pity": {"5": 1}`

13. **CaptureRule**: Pre-UP capture probability.<br>
Config: 
  - `"capture_probability": {"5": 1000}`

14. **CapturePityRule**: Capture pity counter.<br>
Config: 
  - `"capture_pity": {"5": 3}`

#### Gacha Logic Example
```json
{
    "name": "å´©åï¼šæ˜Ÿç©¹é“é“-è§’è‰²-UPå¡æ± -æŠ½å¡è§„åˆ™",
    "rules": {
        "StarCounterRule": {
            "star_list": [
                5, 4
            ]
        },
        "StarPityRule": {
            "star_pity": {
                "5": 90,
                "4": 10
            },
            "reset_lower_pity": false
        },
        "StarProbabilityIncreaseRule": {
            "star_increase": {
                "5": [74, 600],
                "4": [9, 5100]
            }
        },
        "StarProbabilityRule": {
            "star_probability": {
                "5": 60,
                "4": 510,
                "3": 9430
            }
        },
        "UpRule": {
            "up_probability": {
                "5": 5000,
                "4": 5000
            },
            "up_pity": {
                "5": 1,
                "4": 1
            }
        },
        "UpTypeRule": {
            "up_type_probability": {
                "4": {"Character": 10000}
            },
            "up_type_pity": {}
        },
        "TypeStarProbabilityRule": {
            "type_probability": {
                "5": {"Character": 10000},
                "4": {"Character": 5000, "Weapon": 5000},
                "3": {"Weapon": 10000}
            }
        }
    }
}
```

### 4. Card Pool Configuration
Card pools are configured in `Data/CardPools` (files must end with `.json`).

Each file requires:

- **name**: Unique identifier
- **card_group**: Formal deck name
- **logic**: Gacha logic name
- **recorder_dir**: Pull record directory (e.g., `Data/Records/Normal2`)
- ***logic_state**: Auto-generated logic state (counters, pity status)

#### Card Pool Example
```json
{
    "name": "Normal2",
    "card_group": "é»˜è®¤å¡ç»„2",
    "logic": "å´©åï¼šæ˜Ÿç©¹é“é“-è§’è‰²-UPå¡æ± -æŠ½å¡è§„åˆ™",
    "recorder_dir": "Data/Records/Normal2",
    "logic_state": {
        "StarCounterRule": {
            "star_counter": {
                "5": 32,
                "4": 0
            }
        },
        "StarPityRule": {
            "is_pity": {
                "5": false,
                "4": false
            }
        },
        "UpRule": {
            "up_counter": {
                "5": 0,
                "4": 0
            },
            "is_up_pity": {
                "5": false,
                "4": true
            }
        }
    }
}
```
**Note**: `logic_state` is auto-generated and should not be manually edited.
